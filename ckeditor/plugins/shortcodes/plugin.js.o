CKEDITOR.plugins.add('shortcodes',{requires:['richcombo'],init:function(editor){var config=editor.config,lang=editor.lang.format;var tags=[];var b_sURL=bkfolder+"admin/onlyadminajax.php";$.post(b_sURL,{az:24,dataType:'json'},function(data){data=$.parseJSON(data);var kk=0;for(var this_data in data){tags[kk]=[data[this_data]["scode"],data[this_data]["name"],data[this_data]["name"]];kk++;}});editor.ui.addRichCombo('shortcodes',{label:"Insert Shortcodes",title:"Insert Shortcodes",voiceLabel:"Insert Shortcodes",className:'cke_format',multiSelect:false,panel:{css:[config.contentsCss,CKEDITOR.getUrl(editor.skinPath+'editor.css')],voiceLabel:lang.panelVoiceLabel},init:function(){this.startGroup("Insert Shortcodes");for(var this_tag in tags){this.add(tags[this_tag][0],tags[this_tag][1],tags[this_tag][2]);}},onClick:function(value){editor.focus();editor.fire('saveSnapshot');editor.insertHtml('<div>'+value+'</div>');editor.fire('saveSnapshot');}});}});